name: CI

on:
  push:
    branches:
      - master

jobs:
  setup:
    runs-on: ubuntu-22.04
    environment: prod
    steps:
      - uses: actions/checkout@08c6903cd8c0fde910a37f88322edcfb5dd907a8 # v5
      - name: Setup
        run: echo "ğŸ‰ Install some dependencies ...."

  test:
    runs-on: ubuntu-22.04
    needs: setup
    environment: prod
    steps:
      - uses: actions/checkout@08c6903cd8c0fde910a37f88322edcfb5dd907a8 # v5
      - name: Test
        run: echo "ğŸ‰ Run test suite ...."
  release:
    runs-on: ubuntu-22.04
    needs: test
    environment: prod
    steps:
      - uses: actions/checkout@08c6903cd8c0fde910a37f88322edcfb5dd907a8 # v5
      - name: Release
        run: echo "ğŸ›³ï¸ Ship this build"
        env:
          GITHUB_TOKEN: ${{ secrets.MY_GITHUB_TOKEN }}
